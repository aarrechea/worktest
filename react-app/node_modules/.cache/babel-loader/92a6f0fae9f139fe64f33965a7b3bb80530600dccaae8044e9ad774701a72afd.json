{"ast":null,"code":"var _s = $RefreshSig$();\n// Imports\nimport axios from \"axios\";\nimport { useNavigate } from \"react-router-dom\";\n\n/* User actions */\nfunction useUserActions() {\n  _s();\n  /* Constants */\n  const navigate = useNavigate();\n  const baseURL = \"http://localhost:8000/api\";\n\n  /* Login function */\n  function login(data) {\n    return axios.post(`${baseURL}/auth/login/`, data).then(res => {\n      setUserData(res);\n      navigate(\"/\");\n    });\n  }\n\n  /* Logout function */\n  function logout() {\n    localStorage.removeItem(\"auth\");\n    navigate(\"/login\");\n  }\n\n  /* Return */\n  return {\n    login,\n    logout\n  };\n}\n\n/* Get the user */\n_s(useUserActions, \"CzcTeTziyjMsSrAVmHuCCb6+Bfg=\", false, function () {\n  return [useNavigate];\n});\nfunction getUser() {\n  try {\n    const auth = JSON.parse(localStorage.getItem(\"auth\"));\n    return auth.user;\n  } catch (e) {\n    console.log(\"Error: \" + e);\n  }\n}\n\n/* Get the access token */\nfunction getAccessToken() {\n  try {\n    const auth = JSON.parse(localStorage.getItem(\"auth\"));\n    return auth.access;\n  } catch (e) {\n    console.log(\"Error: \" + e);\n  }\n}\n\n/* Get the refresh token */\nfunction getRefreshToken() {\n  try {\n    const auth = JSON.parse(localStorage.getItem(\"auth\"));\n    return auth.refresh;\n  } catch (e) {\n    console.log(\"Error getting refresh token - line 75 useraction.js: \" + e);\n  }\n}\n\n/* Set user data */\nfunction setUserData(data) {\n  localStorage.setItem(\"auth\", JSON.stringify({\n    access: data.data.access,\n    refresh: data.data.refresh,\n    user: data.data.user\n  }));\n}\n\n/* Exports */\nexport { useUserActions, getUser, getAccessToken, getRefreshToken, setUserData };","map":{"version":3,"names":["axios","useNavigate","useUserActions","_s","navigate","baseURL","login","data","post","then","res","setUserData","logout","localStorage","removeItem","getUser","auth","JSON","parse","getItem","user","e","console","log","getAccessToken","access","getRefreshToken","refresh","setItem","stringify"],"sources":["/home/adrian/Dropbox/worktest/react-app/src/components/hooks/actions.js"],"sourcesContent":["// Imports\nimport axios from \"axios\";\nimport { useNavigate } from \"react-router-dom\";\n\n\n\n/* User actions */\nfunction useUserActions() {\n    /* Constants */\n    const navigate = useNavigate();\n    const baseURL = \"http://localhost:8000/api\";\n\n\n\n    /* Login function */\n    function login(data) {\n        return axios\n            .post(`${baseURL}/auth/login/`, data)\n\n            .then((res) => {                \n                setUserData(res);\n                navigate(\"/\")\n            })            \n    }\n\n\n\n    /* Logout function */\n    function logout() {\n        localStorage.removeItem(\"auth\");\n        navigate(\"/login\");\n    }\n\n\n\n    /* Return */\n    return{\n        login,        \n        logout,\n    };\n}\n\n\n\n/* Get the user */\nfunction getUser() {\n    try {\n        const auth = JSON.parse(localStorage.getItem(\"auth\"));    \n        return auth.user;    \n    } catch (e) {\n        console.log(\"Error: \" + e)\n    }    \n}\n\n\n\n/* Get the access token */\nfunction getAccessToken() {\n    try {\n        const auth = JSON.parse(localStorage.getItem(\"auth\"));\n        return auth.access;    \n    } catch (e) {\n        console.log(\"Error: \" + e);\n    }        \n}\n\n\n\n/* Get the refresh token */\nfunction getRefreshToken() {\n    try {\n        const auth = JSON.parse(localStorage.getItem(\"auth\"));\n        return auth.refresh;    \n    } catch (e) {\n        console.log(\"Error getting refresh token - line 75 useraction.js: \" + e);\n    }    \n}\n\n\n\n/* Set user data */\nfunction setUserData(data) {\n    localStorage.setItem(\"auth\", JSON.stringify({\n        access: data.data.access,\n        refresh: data.data.refresh,\n        user: data.data.user,\n    }));\n}\n\n\n\n/* Exports */\nexport {\n    useUserActions,\n    getUser,\n    getAccessToken,\n    getRefreshToken,\n    setUserData\n}\n"],"mappings":";AAAA;AACA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,WAAW,QAAQ,kBAAkB;;AAI9C;AACA,SAASC,cAAcA,CAAA,EAAG;EAAAC,EAAA;EACtB;EACA,MAAMC,QAAQ,GAAGH,WAAW,CAAC,CAAC;EAC9B,MAAMI,OAAO,GAAG,2BAA2B;;EAI3C;EACA,SAASC,KAAKA,CAACC,IAAI,EAAE;IACjB,OAAOP,KAAK,CACPQ,IAAI,CAAC,GAAGH,OAAO,cAAc,EAAEE,IAAI,CAAC,CAEpCE,IAAI,CAAEC,GAAG,IAAK;MACXC,WAAW,CAACD,GAAG,CAAC;MAChBN,QAAQ,CAAC,GAAG,CAAC;IACjB,CAAC,CAAC;EACV;;EAIA;EACA,SAASQ,MAAMA,CAAA,EAAG;IACdC,YAAY,CAACC,UAAU,CAAC,MAAM,CAAC;IAC/BV,QAAQ,CAAC,QAAQ,CAAC;EACtB;;EAIA;EACA,OAAM;IACFE,KAAK;IACLM;EACJ,CAAC;AACL;;AAIA;AAAAT,EAAA,CArCSD,cAAc;EAAA,QAEFD,WAAW;AAAA;AAoChC,SAASc,OAAOA,CAAA,EAAG;EACf,IAAI;IACA,MAAMC,IAAI,GAAGC,IAAI,CAACC,KAAK,CAACL,YAAY,CAACM,OAAO,CAAC,MAAM,CAAC,CAAC;IACrD,OAAOH,IAAI,CAACI,IAAI;EACpB,CAAC,CAAC,OAAOC,CAAC,EAAE;IACRC,OAAO,CAACC,GAAG,CAAC,SAAS,GAAGF,CAAC,CAAC;EAC9B;AACJ;;AAIA;AACA,SAASG,cAAcA,CAAA,EAAG;EACtB,IAAI;IACA,MAAMR,IAAI,GAAGC,IAAI,CAACC,KAAK,CAACL,YAAY,CAACM,OAAO,CAAC,MAAM,CAAC,CAAC;IACrD,OAAOH,IAAI,CAACS,MAAM;EACtB,CAAC,CAAC,OAAOJ,CAAC,EAAE;IACRC,OAAO,CAACC,GAAG,CAAC,SAAS,GAAGF,CAAC,CAAC;EAC9B;AACJ;;AAIA;AACA,SAASK,eAAeA,CAAA,EAAG;EACvB,IAAI;IACA,MAAMV,IAAI,GAAGC,IAAI,CAACC,KAAK,CAACL,YAAY,CAACM,OAAO,CAAC,MAAM,CAAC,CAAC;IACrD,OAAOH,IAAI,CAACW,OAAO;EACvB,CAAC,CAAC,OAAON,CAAC,EAAE;IACRC,OAAO,CAACC,GAAG,CAAC,uDAAuD,GAAGF,CAAC,CAAC;EAC5E;AACJ;;AAIA;AACA,SAASV,WAAWA,CAACJ,IAAI,EAAE;EACvBM,YAAY,CAACe,OAAO,CAAC,MAAM,EAAEX,IAAI,CAACY,SAAS,CAAC;IACxCJ,MAAM,EAAElB,IAAI,CAACA,IAAI,CAACkB,MAAM;IACxBE,OAAO,EAAEpB,IAAI,CAACA,IAAI,CAACoB,OAAO;IAC1BP,IAAI,EAAEb,IAAI,CAACA,IAAI,CAACa;EACpB,CAAC,CAAC,CAAC;AACP;;AAIA;AACA,SACIlB,cAAc,EACda,OAAO,EACPS,cAAc,EACdE,eAAe,EACff,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}